<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:i="http://www.rich.prime/jsf"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:n="http://ntua/facelets">
	
	<p:dialog id="locationPopup" header="Select location" widgetVar="locationPopup" showEffect="explode" 
       	modal="true" hideEffect="explode" onShow="initMap();">
       	
       	<h:panelGrid id="locationFinderValues" columns="2" columnClasses="locationFinderHeader, locationFinderHeader">
       		<p:outputLabel value="Center" style="font-weight:bold"/>
       		
       		<p:outputLabel value="Radius (meters)" style="font-weight:bold"/>
       		
        	<h:panelGroup>
	        	<p:outputLabel value="Latitude:" style="font-weight:bold; margin-right:5px"/>
	        	<h:outputLabel id="center_lat" style="margin-right:10px"/>
	        	<p:outputLabel value="Longitude:" style="font-weight:bold; margin-right:5px"/>
	        	<h:outputLabel id="center_lon" style="margin-right:10px"/>
        	</h:panelGroup>
        	
        	<h:outputLabel id="radius" value="#{mapController.searchCriteria.radius}"/>
        	
       	</h:panelGrid>
       	
       	<h:inputHidden id="center_lat_hidden" value="#{value.latitude}" />
       	<h:inputHidden id="center_lon_hidden" value="#{value.longitude}" />
       	<h:inputHidden id="radius_hidden" value="#{value.radius}" />
       	
      		<p:commandButton style="float:right" value="OK" update="map_search_panel"
			oncomplete="PF('locationPopup').hide();" process="center_lat_hidden,center_lon_hidden,radius_hidden" />
			
      		<div id="locMap" style="width: 800px; height: 600px"/>
	</p:dialog>
</ui:composition>
